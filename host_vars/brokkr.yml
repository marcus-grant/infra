---
# Main configs
## Hostname
hostname: brokkr

# Fail2Ban
fail2ban_sender: "fail2ban@{{ hostname }}.{{ svartalv_main_domain }}"

# Docker-Postgres
docker_postgres_superuser_name: postgres
docker_postgres_superuser_password: "{{ vault_postgres_superuser_password }}"

# Pgadmin:
pgadmin_port: "{{ internal_ports.pgadmin }}"
pgadmin_default_email: "{{ admin_email }}"
pgadmin_default_password: "{{ vault_pgadmin_default_password }}"
pgadmin_image: dpage/pgadmin4:latest
pgadmin_postgres_docker_network: postgres

# DELETEME: Might not be used anymore due to docker-postgres role
# # PostgreSQL
# # HBA
# postgres_permissive_hba: true  # Whether to allow all connections
# postgres_superuser_password: "{{ vault_postgres_superuser_password }}"

# Certbot
# Nginx
nginx_certbot_enabled: true  # Whether to enable certbot
nginx_certbot_email: "{{ admin_email }}"
nginx_reload_daemon_enabled: false  # Whether to enable the reload script
nginx_worker_connections: 1024  # Number of connections per worker
# Nginx - Site configs
nginx_sites:
  - url: "whoami.{{ svartalv_main_domain }}"
    enabled: true
    port: "{{ internal_ports.whoami }}"
    ssl: true
    redirect_http: true
    redirect_www: true
    extra: |
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      client_max_body_size 100m;
  - url: "pgadmin.{{ svartalv_main_domain }}"
    enabled: true
    port: "{{ internal_ports.pgadmin }}"
    ssl: true
    redirect_http: true


# Docker-Compose Systemd Services
# Whoami
whoami_port: "{{ internal_ports.whoami }}"
